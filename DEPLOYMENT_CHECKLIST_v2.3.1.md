# v2.3.1 éƒ¨ç½²éªŒè¯æ¸…å•

## ğŸ“‹ éƒ¨ç½²å‰å‡†å¤‡

### Docker éƒ¨ç½²
- [ ] æ£€æŸ¥ docker-compose.yml é…ç½®
- [ ] è®¾ç½®ç¯å¢ƒå˜é‡ï¼ˆ.env æ–‡ä»¶æˆ–ç›´æ¥åœ¨ docker-compose.ymlï¼‰
- [ ] ç¡®ä¿ /data/save_restricted_bot ç›®å½•æƒé™æ­£ç¡®

### æœ¬åœ°éƒ¨ç½²
- [ ] å®‰è£… Python 3.9+
- [ ] å®‰è£…ä¾èµ–ï¼š`pip install -r requirements.txt`
- [ ] è®¾ç½®ç¯å¢ƒå˜é‡æˆ–åˆ›å»º .env æ–‡ä»¶

---

## ğŸš€ éƒ¨ç½²æ­¥éª¤

### Docker éƒ¨ç½²
```bash
# 1. å¯åŠ¨å®¹å™¨
docker-compose up -d

# 2. æ£€æŸ¥æ—¥å¿—
docker-compose logs -f telegram-bot

# 3. éªŒè¯æ•°æ®ç›®å½•
ls -la /data/save_restricted_bot/
ls -la /data/save_restricted_bot/config/
```

### æœ¬åœ°éƒ¨ç½²
```bash
# 1. è®¾ç½®ç¯å¢ƒå˜é‡
export DATA_DIR=/data/save_restricted_bot
export TOKEN=your_bot_token
export ID=your_api_id
export HASH=your_api_hash
export STRING=your_session_string

# 2. å¯åŠ¨ Bot
python3 main.py

# 3. å¯åŠ¨ Webï¼ˆå¦ä¸€ä¸ªç»ˆç«¯ï¼‰
python3 app.py
```

---

## âœ… éƒ¨ç½²éªŒè¯

### 1. ç›®å½•ç»“æ„éªŒè¯
```bash
# æ£€æŸ¥ç›®å½•æ˜¯å¦å­˜åœ¨
ls -la /data/save_restricted_bot/

# åº”è¯¥åŒ…å«ï¼š
# - config/
# - media/
# - logs/
# - notes.dbï¼ˆé¦–æ¬¡è¿è¡Œåï¼‰
```

- [ ] config/ ç›®å½•å­˜åœ¨
- [ ] media/ ç›®å½•å­˜åœ¨
- [ ] logs/ ç›®å½•å­˜åœ¨

### 2. é…ç½®æ–‡ä»¶éªŒè¯
```bash
# æ£€æŸ¥é…ç½®æ–‡ä»¶
cat /data/save_restricted_bot/config/config.json
cat /data/save_restricted_bot/config/watch_config.json
```

- [ ] config.json å­˜åœ¨ä¸”åŒ…å« TOKEN, ID, HASH, STRING
- [ ] watch_config.json å­˜åœ¨ï¼ˆåˆå§‹ä¸º {}ï¼‰

### 3. å¯åŠ¨æ—¥å¿—éªŒè¯
æŸ¥çœ‹å¯åŠ¨æ—¥å¿—ï¼Œåº”è¯¥çœ‹åˆ°ï¼š
```
âœ… å·²åˆ›å»ºé»˜è®¤é…ç½®æ–‡ä»¶ /data/save_restricted_bot/config/config.json
âœ… å·²ä»ç¯å¢ƒå˜é‡åˆå§‹åŒ–é…ç½®
âœ… å·²åˆ›å»ºç©ºç›‘æ§é…ç½®æ–‡ä»¶ /data/save_restricted_bot/config/watch_config.json
```

- [ ] é…ç½®æ–‡ä»¶è‡ªåŠ¨åˆ›å»ºæ¶ˆæ¯
- [ ] æ— é”™è¯¯ä¿¡æ¯
- [ ] Bot æˆåŠŸå¯åŠ¨

### 4. Bot åŠŸèƒ½éªŒè¯
åœ¨ Telegram ä¸­ï¼š
```
/start  - æµ‹è¯• Bot å“åº”
/help   - æŸ¥çœ‹å¸®åŠ©ä¿¡æ¯
/watch  - æµ‹è¯•ç›‘æ§åŠŸèƒ½
```

- [ ] Bot å“åº”æ­£å¸¸
- [ ] èœå•æŒ‰é’®æ˜¾ç¤ºæ­£å¸¸
- [ ] /watch å‘½ä»¤å·¥ä½œæ­£å¸¸

### 5. ç›‘æ§ä»»åŠ¡éªŒè¯
```bash
# åˆ›å»ºç›‘æ§ä»»åŠ¡åæ£€æŸ¥
cat /data/save_restricted_bot/config/watch_config.json
```

- [ ] åˆ›å»ºç›‘æ§ä»»åŠ¡æˆåŠŸ
- [ ] watch_config.json ç«‹å³æ›´æ–°
- [ ] JSON æ ¼å¼æ­£ç¡®

### 6. æ•°æ®æŒä¹…åŒ–éªŒè¯
```bash
# é‡å¯å®¹å™¨
docker-compose restart

# æˆ–é‡å¯æœ¬åœ°æœåŠ¡
# Ctrl+C åœæ­¢ï¼Œç„¶åé‡æ–°å¯åŠ¨

# æ£€æŸ¥é…ç½®æ˜¯å¦ä¿ç•™
cat /data/save_restricted_bot/config/watch_config.json
```

- [ ] é‡å¯åé…ç½®ä¿ç•™
- [ ] ç›‘æ§ä»»åŠ¡ç»§ç»­è¿è¡Œ
- [ ] æ•°æ®å®Œæ•´æ— ä¸¢å¤±

### 7. Web ç•Œé¢éªŒè¯
è®¿é—®ï¼šhttp://localhost:5000 (æˆ–ä½ çš„æœåŠ¡å™¨åœ°å€)

- [ ] ç™»å½•é¡µé¢æ­£å¸¸æ˜¾ç¤º
- [ ] å¯ä»¥æˆåŠŸç™»å½•ï¼ˆadmin/adminï¼‰
- [ ] ç¬”è®°åˆ—è¡¨æ­£å¸¸æ˜¾ç¤º

### 8. ç§»åŠ¨ç«¯éªŒè¯
åœ¨æ‰‹æœºæµè§ˆå™¨è®¿é—® Web ç•Œé¢ï¼š

**æ¡Œé¢ç«¯æ˜¾ç¤º**:
- [ ] æ ‡é¢˜ "Telegram ç¬”è®°" æ˜¾ç¤ºæ­£å¸¸
- [ ] ç»Ÿè®¡ä¿¡æ¯ï¼šğŸ“Š æ€»è®¡ X æ¡ç¬”è®°  ğŸ“‚ X ä¸ªæ¥æº
- [ ] æœç´¢å›¾æ ‡åœ¨å¯¼èˆªæ å³ä¾§
- [ ] èœå•æŒ‰é’®åœ¨æœç´¢å›¾æ ‡å³è¾¹

**ç§»åŠ¨ç«¯æ˜¾ç¤ºï¼ˆ<768pxï¼‰**:
- [ ] æ ‡é¢˜ä¸æ¢è¡Œï¼Œä¿æŒåœ¨ä¸€è¡Œ
- [ ] ç»Ÿè®¡ä¿¡æ¯ç®€åŒ–ï¼šğŸ“Š ç¬”è®°: X  ğŸ“‚ æ¥æº: X
- [ ] æœç´¢å›¾æ ‡å¤§å°é€‚ä¸­
- [ ] æŒ‰é’®è§¦æ‘¸å‹å¥½

**å°å±å¹•æ˜¾ç¤ºï¼ˆ<480pxï¼‰**:
- [ ] æ›´ç´§å‡‘çš„å¸ƒå±€
- [ ] æ›´å°çš„å­—ä½“å’Œé—´è·
- [ ] ç•Œé¢æ•´æ´æ˜“ç”¨

### 9. æœç´¢åŠŸèƒ½éªŒè¯
- [ ] ç‚¹å‡»æœç´¢å›¾æ ‡æ‰“å¼€æœç´¢é¢æ¿
- [ ] æœç´¢é¢æ¿æœ‰é®ç½©å±‚
- [ ] ç‚¹å‡»é®ç½©å±‚å…³é—­é¢æ¿
- [ ] å…³é”®è¯æœç´¢æ­£å¸¸
- [ ] æ¥æºç­›é€‰æ­£å¸¸
- [ ] æ—¥æœŸç­›é€‰æ­£å¸¸
- [ ] æ¸…é™¤ç­›é€‰æ­£å¸¸

### 10. å¤šåª’ä½“åŠŸèƒ½éªŒè¯
å¦‚æœæœ‰è®°å½•æ¨¡å¼çš„ç›‘æ§ä»»åŠ¡ï¼š
- [ ] å•å›¾ç‰‡ç¬”è®°æ˜¾ç¤ºæ­£å¸¸
- [ ] å¤šå›¾ç‰‡ç¬”è®°ï¼ˆ2-9å¼ ï¼‰ç½‘æ ¼å¸ƒå±€æ­£å¸¸
- [ ] è§†é¢‘ç¼©ç•¥å›¾æ˜¾ç¤ºæ­£å¸¸
- [ ] ç¼–è¾‘ç¬”è®°åŠŸèƒ½æ­£å¸¸
- [ ] åˆ é™¤ç¬”è®°åŠŸèƒ½æ­£å¸¸

---

## ğŸ”§ æ•…éšœæ’æŸ¥

### é—®é¢˜ 1: é…ç½®æ–‡ä»¶æœªåˆ›å»º
**ç—‡çŠ¶**: å¯åŠ¨æ—¶æŠ¥é”™æ‰¾ä¸åˆ°é…ç½®æ–‡ä»¶

**è§£å†³**:
```bash
# æ£€æŸ¥ç¯å¢ƒå˜é‡
echo $DATA_DIR
echo $TOKEN

# ç¡®ä¿æœ‰å†™æƒé™
chmod -R 755 /data/save_restricted_bot/

# æ‰‹åŠ¨åˆ›å»ºç›®å½•
mkdir -p /data/save_restricted_bot/config
```

### é—®é¢˜ 2: ç§»åŠ¨ç«¯æ˜¾ç¤ºå¼‚å¸¸
**ç—‡çŠ¶**: ç»Ÿè®¡ä¿¡æ¯æ²¡æœ‰ç®€åŒ–ï¼Œæ ‡é¢˜æ¢è¡Œ

**è§£å†³**:
1. æ¸…é™¤æµè§ˆå™¨ç¼“å­˜
2. å¼ºåˆ¶åˆ·æ–°é¡µé¢ï¼ˆCtrl+Shift+Rï¼‰
3. æ£€æŸ¥æµè§ˆå™¨å¼€å‘è€…å·¥å…·çš„å“åº”å¼æ¨¡å¼

### é—®é¢˜ 3: æœç´¢é¢æ¿æ— æ³•æ‰“å¼€
**ç—‡çŠ¶**: ç‚¹å‡»æœç´¢å›¾æ ‡æ²¡ååº”

**è§£å†³**:
1. æ£€æŸ¥æµè§ˆå™¨æ§åˆ¶å°æ˜¯å¦æœ‰ JavaScript é”™è¯¯
2. æ¸…é™¤æµè§ˆå™¨ç¼“å­˜
3. ç¡®ä¿ notes.html æ–‡ä»¶å®Œæ•´

### é—®é¢˜ 4: Docker Volume æƒé™é—®é¢˜
**ç—‡çŠ¶**: æ— æ³•å†™å…¥æ–‡ä»¶

**è§£å†³**:
```bash
# ä¿®æ”¹ç›®å½•æƒé™
sudo chown -R $USER:$USER /data/save_restricted_bot
sudo chmod -R 755 /data/save_restricted_bot
```

### é—®é¢˜ 5: æ•°æ®æœªæŒä¹…åŒ–
**ç—‡çŠ¶**: é‡å¯åé…ç½®ä¸¢å¤±

**è§£å†³**:
1. æ£€æŸ¥ docker-compose.yml çš„ volume é…ç½®
2. ç¡®ä¿ volume è·¯å¾„æ­£ç¡®
3. éªŒè¯ç¯å¢ƒå˜é‡ DATA_DIR è®¾ç½®

---

## ğŸ“Š æ€§èƒ½æµ‹è¯•

### å“åº”æ—¶é—´æµ‹è¯•
- [ ] Bot å‘½ä»¤å“åº” < 1 ç§’
- [ ] Web é¡µé¢åŠ è½½ < 2 ç§’
- [ ] æœç´¢ç»“æœè¿”å› < 1 ç§’
- [ ] ç§»åŠ¨ç«¯æ“ä½œæµç•…

### å¹¶å‘æµ‹è¯•
- [ ] å¤šä¸ªç›‘æ§ä»»åŠ¡åŒæ—¶è¿è¡Œ
- [ ] å¤šç”¨æˆ·åŒæ—¶è®¿é—® Web ç•Œé¢
- [ ] å¤§é‡ç¬”è®°ç¿»é¡µæµç•…

---

## ğŸ¯ éªŒè¯é€šè¿‡æ ‡å‡†

æ‰€æœ‰ä»¥ä¸‹é¡¹ç›®å¿…é¡»é€šè¿‡ï¼š

âœ… **æ ¸å¿ƒåŠŸèƒ½**
- [x] Bot æ­£å¸¸å¯åŠ¨å’Œå“åº”
- [x] ç›‘æ§ä»»åŠ¡åˆ›å»ºå’Œè¿è¡Œ
- [x] æ•°æ®æŒä¹…åŒ–æ­£å¸¸
- [x] Web ç•Œé¢æ­£å¸¸è®¿é—®

âœ… **v2.3.1 æ–°åŠŸèƒ½**
- [x] DATA_DIR ç¯å¢ƒå˜é‡ç”Ÿæ•ˆ
- [x] é…ç½®æ–‡ä»¶è‡ªåŠ¨åˆ›å»º
- [x] ç§»åŠ¨ç«¯å“åº”å¼æ˜¾ç¤º
- [x] ç»Ÿè®¡ä¿¡æ¯ç®€åŒ–æ˜¾ç¤º
- [x] æ ‡é¢˜ä¸æ¢è¡Œ

âœ… **å·²æœ‰åŠŸèƒ½**
- [x] æœç´¢ UI æ­£å¸¸
- [x] å¤šåª’ä½“æ”¯æŒæ­£å¸¸
- [x] ç¼–è¾‘åˆ é™¤åŠŸèƒ½æ­£å¸¸

---

## ğŸ“ éƒ¨ç½²è®°å½•

**éƒ¨ç½²æ—¥æœŸ**: _______________

**éƒ¨ç½²æ–¹å¼**: â–¡ Docker  â–¡ æœ¬åœ°

**éªŒè¯äºº**: _______________

**éªŒè¯ç»“æœ**: â–¡ é€šè¿‡  â–¡ å¤±è´¥

**é—®é¢˜è®°å½•**:
```
é—®é¢˜æè¿°ï¼š


è§£å†³æ–¹æ¡ˆï¼š


```

**å¤‡æ³¨**:
```




```

---

## ğŸ“š ç›¸å…³æ–‡æ¡£

- [UPDATE_v2.3.1.md](UPDATE_v2.3.1.md) - æ›´æ–°è¯´æ˜
- [IMPROVEMENTS_v2.3.1.md](IMPROVEMENTS_v2.3.1.md) - è¯¦ç»†æ”¹è¿›æ–‡æ¡£
- [README.md](README.md) - ä¸»æ–‡æ¡£
- [DEPLOYMENT_VERIFICATION.md](DEPLOYMENT_VERIFICATION.md) - é€šç”¨éƒ¨ç½²éªŒè¯

---

**æ¸…å•ç‰ˆæœ¬**: v2.3.1  
**æœ€åæ›´æ–°**: 2024
