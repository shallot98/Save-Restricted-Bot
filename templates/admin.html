<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç®¡ç†å‘˜é¢æ¿ - Telegram ç¬”è®°</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/main.css') }}">
    <style>
        /* Page-specific styles */
        .header-nav {
            display: flex;
            gap: var(--space-sm);
            flex-wrap: wrap;
        }
        
        @media (max-width: 768px) {
            .header {
                flex-direction: column;
                align-items: stretch;
            }
            
            .header-title {
                padding-right: 0;
                margin-bottom: var(--space-md);
            }
            
            .header-nav {
                justify-content: stretch;
            }
            
            .header-nav .btn {
                flex: 1;
                min-width: 140px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <div class="header-title">
                <span class="header-icon">âš™ï¸</span>
                <h1>ç®¡ç†å‘˜é¢æ¿</h1>
            </div>
            <div class="header-actions">
                <button class="menu-toggle" onclick="toggleMenu()" aria-label="èœå•">
                    <div class="menu-bar"></div>
                    <div class="menu-bar"></div>
                    <div class="menu-bar"></div>
                </button>
                <div class="menu-dropdown" id="menuDropdown">
                    <a href="/notes" class="menu-item">
                        <span class="menu-item-icon">ğŸ“</span>ç¬”è®°åˆ—è¡¨
                    </a>
                    <a href="/admin" class="menu-item">
                        <span class="menu-item-icon">âš™ï¸</span>ç®¡ç†è®¾ç½®
                    </a>
                    <a href="/logout" class="menu-item">
                        <span class="menu-item-icon">ğŸšª</span>é€€å‡ºç™»å½•
                    </a>
                </div>
            </div>
        </div>
        
        <div style="background: rgba(255, 255, 255, 0.95); border-radius: var(--radius-xl); padding: var(--space-lg); margin-bottom: var(--space-lg); box-shadow: var(--shadow-md);">
            <div class="header-nav">
                <a href="/admin/calibration" class="btn btn-secondary">ğŸ”§ è‡ªåŠ¨æ ¡å‡†</a>
                <a href="/admin/webdav" class="btn btn-secondary">â˜ï¸ WebDAV å­˜å‚¨</a>
                <a href="/admin/viewer" class="btn btn-secondary">ğŸ¬ è§‚çœ‹è®¾ç½®</a>
                <a href="/notes" class="btn btn-secondary">â† è¿”å›ç¬”è®°</a>
            </div>
        </div>

        <div class="card">
            <h2>ä¿®æ”¹å¯†ç </h2>
            <p>å»ºè®®å®šæœŸæ›´æ¢å¯†ç ä»¥ç¡®ä¿è´¦æˆ·å®‰å…¨</p>

            {% if success %}
            <div class="success-message">
                âœ“ {{ success }}
            </div>
            {% endif %}

            {% if error %}
            <div class="error-message">
                âœ— {{ error }}
            </div>
            {% endif %}

            <div class="info-box">
                <p>ğŸ’¡ å¯†ç é•¿åº¦è‡³å°‘ä¸º 6 ä¸ªå­—ç¬¦</p>
            </div>

            <form method="POST" action="/admin">
                <div class="form-group">
                    <label for="current_password">å½“å‰å¯†ç </label>
                    <input type="password" id="current_password" name="current_password" required>
                </div>

                <div class="form-group">
                    <label for="new_password">æ–°å¯†ç </label>
                    <input type="password" id="new_password" name="new_password" required minlength="6">
                </div>

                <div class="form-group">
                    <label for="confirm_password">ç¡®è®¤æ–°å¯†ç </label>
                    <input type="password" id="confirm_password" name="confirm_password" required minlength="6">
                </div>

                <button type="submit" class="btn btn-primary btn-lg">æ›´æ–°å¯†ç </button>
            </form>
        </div>
    </div>

    <script src="{{ url_for('static', filename='js/main.js') }}"></script>
</body>
</html>
